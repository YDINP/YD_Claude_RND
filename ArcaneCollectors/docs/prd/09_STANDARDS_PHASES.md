# 6~9. 코딩 표준, 확장 아이디어, Phase 계획, TASK 요약
> 원본: PRD_Unified_v5.md §6~§9 (lines 1400-1511)

## 6. 최적화 & 코드 품질 기준

### 6.1 코딩 표준
| 항목 | 기준 |
|------|------|
| **모듈** | ES Modules (import/export), require() 금지 |
| **패턴** | 시스템=싱글톤 class, 서비스=함수 export, 컴포넌트=Container 상속 |
| **이벤트** | EventBus 통일 사용, 직접 emit 금지 |
| **상수** | constants.js 또는 gameConfig.js에 중앙 관리, 매직넘버 금지 |
| **에러** | try-catch + 사용자 친화적 메시지 (Toast) |
| **메모리** | Scene shutdown()에서 모든 리스너/타이머 해제 |
| **성능** | 오브젝트 풀링, 불필요한 update() 제거, 지연 로딩 |

### 6.2 빌드 기준
| 항목 | 목표 |
|------|------|
| 빌드 시간 | < 10초 |
| 번들 크기 | < 2MB (gzip) |
| 초기 로딩 | < 3초 (4G 모바일) |
| FPS | 60fps (전투 씬 포함) |
| 메모리 | < 150MB (런타임) |

### 6.3 테스트 기준
- 모든 유저 상호작용 체인 수동 테스트 완료
- 가챠 10,000회 시뮬레이션 확률 ±0.5% 이내
- 5개 챕터 전체 클리어 가능 확인
- 무한의 탑 50층 클리어 가능 확인
- 24시간 오프라인 보상 정확도 ±5% 이내

---

## 7. 확장 아이디어 (향후 적용 가능)

| 아이디어 | 설명 | 우선순위 |
|----------|------|---------|
| **PvP 아레나** | 실시간 PvP 전투, 시즌 랭킹 | 높음 |
| **길드 시스템** | 길드 생성, 길드 레이드, 길드 전쟁 | 높음 |
| **캐릭터 호감도** | 터치 반응, 대사 변화, 전용 스토리 | 중간 |
| **의상 시스템** | 캐릭터 의상 변경, 스탯 보너스 | 중간 |
| **이벤트 배너** | 기간 한정 가챠, 특별 보상 | 중간 |
| **도감 시스템** | 캐릭터/장비/몬스터 도감 | 낮음 |
| **채팅** | 글로벌 채팅, 귓속말 | 낮음 |
| **AI 전략 프리셋** | 자동전투 AI 커스터마이징 | 낮음 |
| **시너지 조합 도감** | 파티 편성 도우미 | 중간 |
| **소환 히스토리** | 최근 100회 소환 기록 | 낮음 |
| **MVP 시스템** | 전투 후 MVP 선정, 보너스 EXP | 낮음 |
| **SystemBootstrap** | 시스템 초기화 순서 관리자 | 높음 |
| **상태 머신** | 게임 흐름 FSM (로딩→로비→전투→결과) | 높음 |

---

## 8. Phase별 실행 계획

### Phase 1: 기반 통합 (1주차) - P0 태스크
| TASK | 팀 | 핵심 목표 | 상태 |
|------|-----|----------|------|
| A-1 | A | systems/index.js 17개 시스템 전체 export | |
| C-1 | C | data/index.js Element→Mood 전면 교체 | ✅ 완료 |
| C-2 | C | GachaScene↔GachaSystem 교체 + 확률 PRD 일치 | |
| E-1 | E | 91명 캐릭터 데이터 완전성 감사 | |
| F-1 | F | BootScene 초기화 흐름 검증 | |
| F-3 | F | MainMenuScene 데이터 바인딩 검증 | |
| F-4 | F | GachaScene 전체 상호작용 검증 | |
| G-1 | G | DebugManager require→import 수정 | |
| G-2 | G | clearAllStages stages.json 연동 | |

### Phase 2: 핵심 통합 (2주차) - P0 계속
| TASK | 팀 | 핵심 목표 | 상태 |
|------|-----|----------|------|
| A-2 | A | MoodSystem→BattleScene 완전 연결 | ✅ 완료 |
| B-2 | B | StageSelectScene→stages.json 동적 로드 | |
| B-3 | B | EnergySystem↔StageSelectScene 실시간 연결 | |
| E-2 | E | 91명 캐릭터 설계 시작 | |
| F-6 | F | HeroDetailScene 육성 시스템 검증 | |
| F-7 | F | StageSelectScene 전체 검증 | |
| F-8 | F | BattleScene 전체 검증 | |
| F-11 | F | GachaScene↔GachaSystem 교체 후 검증 | |

### Phase 3: 확장 (3주차) - P1 태스크
A-3~A-7, B-1, B-4, C-3~C-4, E-3~E-5, E-9~E-10,
F-2, F-5, F-9~F-10, F-12, G-3~G-7,
H-1~H-4, D-1~D-3

### Phase 4: 폴리싱 (4주차) - P2~P3 태스크
A-6, A-8, B-5~B-7, C-5~C-7, E-6~E-8,
G-8~G-10, H-5~H-10, D-4~D-5

---

## 9. TASK 전체 요약

| 팀 | P0 | P1 | P2 | P3 | 합계 |
|----|----|----|----|----|------|
| A: 전투 통합 | 2 | 4 | 1 | 1 | **8** |
| B: 신규 씬 & UI | 3 | 1 | 3 | 0 | **7** |
| C: 데이터 & 백엔드 | 2 | 2 | 1 | 2 | **7** |
| D: 통합 QA | 0 | 3 | 2 | 0 | **5** |
| E: 캐릭터 데이터 | 2 | 5 | 2 | 1 | **10** |
| F: 씬/패널 검증 | 6 | 6 | 0 | 0 | **12** |
| G: 치트 API | 2 | 5 | 3 | 0 | **10** |
| H: 디자인 & 에셋 | 0 | 6 | 3 | 1 | **10** |
| **합계** | **17** | **32** | **15** | **5** | **69** |

---

> 이 문서는 PRD v1~v4, Backend PRD, Character Design PRD를 통합하고,
> 현재 구현 상태의 GAP 분석을 반영한 최종 개발 계획서입니다.
> 각 TASK는 "유저 터치→시스템 반응→UI 갱신→저장" 완전 체인으로 설계되었으며,
> 팀별 추론 프로토콜을 통해 이슈 발생을 최소화합니다.

---
