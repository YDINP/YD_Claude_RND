# TASKS: Arcane Collectors 개발 태스크

> 총 4주 (Phase 1-4) / MVP 개발 계획

---

## Phase 1: 기초 셋업 (Week 1)

### Task 1.1: 프로젝트 초기 설정
- **예상 소요**: 2-3시간
- **우선순위**: P0 (필수)
- **상태**: pending

**세부 작업:**
- [ ] 프로젝트 폴더 구조 생성
- [ ] package.json 초기화 (npm init)
- [ ] Phaser 3 설치 및 설정
- [ ] Vite 또는 Webpack 번들러 설정
- [ ] 기본 HTML 템플릿 생성
- [ ] ESLint, Prettier 설정

**폴더 구조:**
```
ArcaneCollectors/
├── public/
│   ├── index.html
│   └── assets/
│       ├── images/
│       ├── audio/
│       └── fonts/
├── src/
│   ├── main.js
│   ├── config/
│   ├── scenes/
│   ├── components/
│   ├── data/
│   └── utils/
├── package.json
└── vite.config.js
```

---

### Task 1.2: 게임 설정 및 씬 구조
- **예상 소요**: 3-4시간
- **우선순위**: P0
- **상태**: pending
- **의존성**: Task 1.1

**세부 작업:**
- [ ] Phaser Game 설정 (config.js)
- [ ] 씬 매니저 구현
- [ ] 기본 씬 생성
  - BootScene (에셋 로딩)
  - PreloadScene (로딩 화면)
  - MainMenuScene (메인 로비)
  - BattleScene (전투)
  - GachaScene (소환)
  - HeroListScene (캐릭터 목록)

---

### Task 1.3: UI 기반 컴포넌트
- **예상 소요**: 4-5시간
- **우선순위**: P0
- **상태**: pending
- **의존성**: Task 1.2

**세부 작업:**
- [ ] 버튼 컴포넌트 (Button.js)
  - 기본, 호버, 클릭 상태
  - 그라데이션 스타일
- [ ] 패널 컴포넌트 (Panel.js)
  - 모달, 카드 스타일
- [ ] 텍스트 스타일 유틸리티
- [ ] 하단 네비게이션 바
- [ ] 상단 리소스 바 (골드, 보석)
- [ ] 로딩 스피너

---

### Task 1.4: 에셋 준비
- **예상 소요**: 4-6시간
- **우선순위**: P1
- **상태**: pending

**세부 작업:**
- [ ] UI 에셋 수집/제작
  - 버튼, 프레임, 아이콘
  - 배경 이미지
- [ ] 캐릭터 플레이스홀더 이미지 (최소 10종)
- [ ] 이펙트 스프라이트시트
- [ ] BGM 및 SFX 수집
- [ ] 폰트 설정 (Noto Sans KR)

---

## Phase 2: 핵심 시스템 (Week 2)

### Task 2.1: 데이터 관리 시스템
- **예상 소요**: 4-5시간
- **우선순위**: P0
- **상태**: pending
- **의존성**: Task 1.2

**세부 작업:**
- [ ] 캐릭터 데이터 스키마 정의
- [ ] 유저 데이터 스키마 정의
- [ ] LocalStorage 래퍼 클래스 (SaveManager.js)
- [ ] 데이터 초기화 및 마이그레이션
- [ ] 캐릭터 마스터 데이터 (JSON)
- [ ] 스테이지 데이터 (JSON)

**파일:**
```
src/data/
├── characters.json    // 캐릭터 마스터 데이터
├── stages.json        // 스테이지 정보
├── skills.json        // 스킬 데이터
└── items.json         // 아이템 데이터
```

---

### Task 2.2: 가챠(소환) 시스템
- **예상 소요**: 6-8시간
- **우선순위**: P0
- **상태**: pending
- **의존성**: Task 2.1

**세부 작업:**
- [ ] 확률 계산 로직 (GachaSystem.js)
  - 기본 확률 (SSR 1.5%, SR 8.5%, R 30%, N 60%)
  - 천장 시스템 (90회)
  - 픽업 확률 업 (50%)
- [ ] 소환 연출 구현 (GachaScene.js)
  - 마법진 애니메이션
  - 등급별 이펙트 차이
  - 결과 화면
- [ ] 10연차 소환 처리
- [ ] 소환권/보석 소비 처리

---

### Task 2.3: 캐릭터 목록 UI
- **예상 소요**: 4-5시간
- **우선순위**: P0
- **상태**: pending
- **의존성**: Task 2.1

**세부 작업:**
- [ ] 그리드 레이아웃 (4열)
- [ ] 캐릭터 카드 컴포넌트
  - 초상화
  - 별 등급 표시
  - 레벨 표시
  - 속성 아이콘
- [ ] 정렬/필터 기능
  - 등급순, 레벨순
  - 속성별 필터
- [ ] 스크롤 처리

---

### Task 2.4: 캐릭터 상세 화면
- **예상 소요**: 5-6시간
- **우선순위**: P0
- **상태**: pending
- **의존성**: Task 2.3

**세부 작업:**
- [ ] 전신 일러스트 표시
- [ ] 스탯 정보 패널
  - HP, ATK, DEF, SPD
  - 레이더 차트 (선택사항)
- [ ] 스킬 목록 및 설명
- [ ] 육성 탭
  - 레벨업 버튼
  - 스킬 강화 버튼
  - 진화 버튼
- [ ] 장비 슬롯 (3개)

---

## Phase 3: 전투 시스템 (Week 3)

### Task 3.1: 전투 씬 기본 구조
- **예상 소요**: 5-6시간
- **우선순위**: P0
- **상태**: pending
- **의존성**: Phase 2 완료

**세부 작업:**
- [ ] 전투 씬 레이아웃 (BattleScene.js)
  - 배경
  - 캐릭터 배치 영역 (좌: 아군, 우: 적군)
  - UI 영역 (HP바, 스킬 게이지)
- [ ] 캐릭터 스프라이트 표시
- [ ] HP 바 컴포넌트
- [ ] 스킬 게이지 바

---

### Task 3.2: 전투 로직
- **예상 소요**: 8-10시간
- **우선순위**: P0
- **상태**: pending
- **의존성**: Task 3.1

**세부 작업:**
- [ ] 턴 순서 계산 (SPD 기반)
- [ ] 기본 공격 처리
- [ ] 스킬 사용 처리
- [ ] 데미지 계산 공식
  - `damage = ATK * skill_multiplier * (1 - DEF/1000)`
- [ ] 속성 상성 (+25% / -25%)
  - 불 > 바람 > 물 > 불
  - 빛 <-> 암흑
- [ ] 사망 처리 및 승패 판정

---

### Task 3.3: 자동 전투 AI
- **예상 소요**: 4-5시간
- **우선순위**: P0
- **상태**: pending
- **의존성**: Task 3.2

**세부 작업:**
- [ ] AI 행동 결정 로직
  - HP 낮은 적 우선 타겟
  - 스킬 게이지 차면 스킬 사용
  - 힐러는 HP 낮은 아군 타겟
- [ ] 자동 전투 토글 버튼
- [ ] 배속 기능 (1x, 2x, 3x)
- [ ] 전투 스킵 기능

---

### Task 3.4: 스테이지 시스템
- **예상 소요**: 4-5시간
- **우선순위**: P0
- **상태**: pending
- **의존성**: Task 3.2

**세부 작업:**
- [ ] 스테이지 선택 화면
- [ ] 스테이지 데이터 로드
  - 적 구성
  - 보상 정보
  - 권장 전투력
- [ ] 파티 편성 화면 (최대 5명)
- [ ] 스테이지 클리어 조건
- [ ] 3성 클리어 시스템
- [ ] 보상 지급 처리

---

### Task 3.5: 전투 연출
- **예상 소요**: 5-6시간
- **우선순위**: P1
- **상태**: pending
- **의존성**: Task 3.2

**세부 작업:**
- [ ] 공격 애니메이션
- [ ] 스킬 이펙트
- [ ] 데미지 숫자 팝업
- [ ] 크리티컬 연출
- [ ] 승리/패배 연출

---

## Phase 4: 마무리 (Week 4)

### Task 4.1: 오프라인 보상 시스템
- **예상 소요**: 4-5시간
- **우선순위**: P0
- **상태**: pending
- **의존성**: Phase 3 완료

**세부 작업:**
- [ ] 마지막 접속 시간 저장
- [ ] 오프라인 경과 시간 계산 (최대 24시간)
- [ ] 오프라인 보상 계산
  - 골드: 시간 * (현재 스테이지 * 10)
  - 경험치: 시간 * (현재 스테이지 * 5)
- [ ] 접속 시 보상 팝업
- [ ] 보상 수령 애니메이션

---

### Task 4.2: 일일 퀘스트
- **예상 소요**: 3-4시간
- **우선순위**: P1
- **상태**: pending

**세부 작업:**
- [ ] 퀘스트 데이터 구조
- [ ] 일일 퀘스트 목록 (5개)
  - 전투 3회 수행
  - 캐릭터 1회 강화
  - 소환 1회
  - 스테이지 클리어
  - 접속 보상
- [ ] 퀘스트 진행도 추적
- [ ] 보상 수령 UI

---

### Task 4.3: 레벨업 및 육성
- **예상 소요**: 4-5시간
- **우선순위**: P0
- **상태**: pending
- **의존성**: Task 2.4

**세부 작업:**
- [ ] 경험치 물약 아이템
- [ ] 레벨업 로직
- [ ] 레벨업 시 스탯 증가 공식
- [ ] 스킬북 아이템
- [ ] 스킬 강화 로직
- [ ] 캐릭터 조각 (진화 재료)
- [ ] 진화 로직

---

### Task 4.4: 사운드 시스템
- **예상 소요**: 2-3시간
- **우선순위**: P1
- **상태**: pending

**세부 작업:**
- [ ] BGM 재생 (Howler.js)
  - 메인 로비
  - 전투
  - 소환
- [ ] SFX 재생
  - 버튼 클릭
  - 소환 이펙트
  - 전투 이펙트
- [ ] 볼륨 설정 UI
- [ ] 음소거 토글

---

### Task 4.5: 폴리싱 및 최적화
- **예상 소요**: 4-6시간
- **우선순위**: P0
- **상태**: pending

**세부 작업:**
- [ ] 버그 수정
- [ ] 로딩 최적화
- [ ] 메모리 누수 체크
- [ ] 모바일 반응형 처리
- [ ] 터치 조작 최적화
- [ ] 최종 테스트

---

## 태스크 요약

| Phase | 태스크 수 | 예상 시간 |
|-------|----------|----------|
| Phase 1 | 4개 | 13-18시간 |
| Phase 2 | 4개 | 19-24시간 |
| Phase 3 | 5개 | 26-32시간 |
| Phase 4 | 5개 | 17-23시간 |
| **총계** | **18개** | **75-97시간** |

---

## 우선순위 정의

| 우선순위 | 설명 |
|---------|------|
| P0 | MVP 필수 기능 (반드시 구현) |
| P1 | MVP 권장 기능 (시간 여유 시 구현) |
| P2 | 후속 개발 (MVP 이후) |

---

## 의존성 그래프

```
Task 1.1 (프로젝트 설정)
    ↓
Task 1.2 (씬 구조)
    ↓
Task 1.3 (UI 컴포넌트) ← Task 1.4 (에셋 준비)
    ↓
Task 2.1 (데이터 시스템)
    ↓
    ├── Task 2.2 (가챠 시스템)
    └── Task 2.3 (캐릭터 목록)
            ↓
        Task 2.4 (캐릭터 상세)
            ↓
        Task 3.1 (전투 기본)
            ↓
        Task 3.2 (전투 로직)
            ↓
            ├── Task 3.3 (자동 전투)
            ├── Task 3.4 (스테이지)
            └── Task 3.5 (전투 연출)
                    ↓
                Task 4.1 (오프라인 보상)
                Task 4.2 (일일 퀘스트)
                Task 4.3 (육성 시스템)
                Task 4.4 (사운드)
                    ↓
                Task 4.5 (폴리싱)
```

---

## 체크포인트

### Week 1 완료 조건
- [ ] 게임이 브라우저에서 실행됨
- [ ] 메인 로비 화면 표시
- [ ] 기본 UI 컴포넌트 작동

### Week 2 완료 조건
- [ ] 가챠 시스템 작동 (소환 가능)
- [ ] 캐릭터 목록 표시
- [ ] 캐릭터 상세 화면 표시

### Week 3 완료 조건
- [ ] 전투 진행 가능
- [ ] 자동 전투 작동
- [ ] 스테이지 클리어 가능

### Week 4 완료 조건
- [ ] 오프라인 보상 수령 가능
- [ ] 캐릭터 육성 가능
- [ ] 전체 플로우 정상 작동
- [ ] 치명적 버그 없음
