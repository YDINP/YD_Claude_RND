# PRD: Arcane Collectors v2.0

> 서브컬쳐 스타일의 웹 기반 방치형 수집 RPG - 버전 2.0 (향후 개발 로드맵)

---

## 1. 게임 개요

### 1.1 기본 정보
- **게임명**: Arcane Collectors (아르케인 컬렉터스)
- **장르**: 방치형 수집 RPG
- **플랫폼**: 웹 브라우저 (HTML5)
- **엔진**: Phaser 3
- **타겟**: 서브컬쳐/가챠 게임 선호 유저
- **버전**: v2.0 (MVP 기반 향후 개발)

### 1.2 핵심 컨셉
마법과 던전이 존재하는 판타지 세계에서 영웅들을 수집하고 육성하여 던전을 탐험하는 방치형 RPG. 블루아카이브의 UI/UX 디자인, 아크나이츠의 캐릭터 디자인, AFK 아레나의 방치형 시스템을 결합한 게임.

### 1.3 레퍼런스 게임
| 게임 | 참고 요소 |
|------|----------|
| 블루아카이브 | UI/UX 디자인, 캐릭터 프레젠테이션 |
| 아크나이츠 | 세계관 깊이, 캐릭터 디자인 |
| AFK 아레나 | 방치형 시스템, 자동 전투 |
| 쿠키런 킹덤 | 수집 시스템, 진화/강화 |

---

## 2. 게임 구조 및 플로우

### 2.1 화면 구성

```
[시작] → BootScene → PreloadScene → MainMenuScene
                                         ↓
         ←←←←←←←←←←←←←←←←←←←←←←←←←←←←←←
         ↓           ↓           ↓
    GachaScene  HeroListScene  StageSelectScene
         ↓           ↓           ↓
         ↓      HeroDetailScene  BattleScene
         ↓           ↓           ↓
         →→→→→→→→→→→→→→→→→→→→→→→→→→→→→→
```

### 2.2 씬(Scene) 설명

| 씬 | 역할 | 주요 기능 |
|----|------|----------|
| **BootScene** | 게임 초기화 | 저장 데이터 로드, 레지스트리 설정, 기본 시스템 초기화 |
| **PreloadScene** | 리소스 로딩 | 플레이스홀더 이미지 생성, 진행바 표시, 에셋 사전 로드 |
| **MainMenuScene** | 메인 로비 | 오프라인 보상 팝업, 네비게이션, 캐릭터 표시, 퀵 정보 |
| **GachaScene** | 소환 화면 | 단일/10연차 소환, 천장 시스템, 화려한 연출 |
| **HeroListScene** | 영웅 목록 | 보유 영웅 그리드, 정렬/필터링, 스크롤 처리 |
| **HeroDetailScene** | 영웅 상세 | 전신 일러스트, 스탯, 스킬, 육성 시스템 |
| **StageSelectScene** | 스테이지 선택 | 챕터/스테이지 목록, 파티 편성, 권장 전투력 표시 |
| **BattleScene** | 전투 | 자동 전투, 결과 처리, 배속 조절 |

---

## 3. 핵심 시스템

### 3.1 저장 시스템 (SaveManager)
- **저장소**: LocalStorage
- **저장 빈도**: 자동 저장 (씬 전환, 리소스 변경 시)
- **오프라인 보상**: 최대 24시간 축적
- **오프라인 수입**:
  - 골드: 시간 * (현재 스테이지 * 10)
  - 경험치: 시간 * (현재 스테이지 * 5)
  - 캐릭터 조각: 우측 스테이지 기반 드롭

### 3.2 가챠 시스템 (GachaSystem)

**등급 확률:**
| 등급 | 표기 | 확률 | 색상 |
|------|------|------|------|
| SSR | ★★★★★ | 1.5% | 금색 |
| SR | ★★★★ | 8.5% | 보라 |
| R | ★★★ | 30% | 파랑 |
| N | ★★ | 60% | 회색 |

**핵심 기능:**
- 천장 시스템: 90회 내 SSR 확정
- 비용: 단일 300젬, 10연차 2700젬
- 픽업 배너: 특정 캐릭터 50% 확률 UP (5성/4성)
- 보장: 천장 내 1회 이상 SSR 확정

### 3.3 전투 시스템 (BattleSystem)

**턴제 자동 전투:**
- 속도(SPD) 기반 턴 순서
- AI 자동 스킬 선택
- 배속 조절 (1x, 2x, 3x)
- 전투 스킵 가능

**속성 상성:**
- 불 > 바람 > 물 > 불 (데미지 ±25%)
- 빛 ↔ 암흑 (상호 상성, ±25%)

**데미지 공식:**
```
데미지 = ATK × 스킬배율 × (1 - DEF/1000) × 속성배율
속성배율: 유리=1.25, 불리=0.75, 중립=1.0
```

### 3.4 육성 시스템 (ProgressionSystem)

**레벨업:**
- 경험치 물약 소비로 레벨업
- 최대 레벨: 100
- 레벨업 시 스탯 고정 증가량

**스킬 강화:**
- 스킬북 아이템 소비
- 스킬 레벨: 1-10
- 레벨 증가로 스킬 데미지/효과 상승

**진화 시스템:**
- 캐릭터 조각으로 진화
- 최대 진화 단계: 6성
- 진화 시 스탯 30-50% 상승
- 진화 재료 난이도 증가

**장비 시스템:**
- 무기, 방어구, 악세서리 (3슬롯)
- 장비 강화: +1 ~ +15
- 강화 시 스탯 선형 증가
- 강화 실패 시 재료 손실

---

## 4. 데이터 구조

### 4.1 캐릭터 데이터 (총 15종)

**SSR 캐릭터 (3종)**
| 이름 | 속성 | 클래스 | 설명 |
|------|------|--------|------|
| 아르카나 | 불 | 마법사 | 고대 마법을 다루는 신비로운 마녀 |
| 레온하르트 | 빛 | 전사 | 성기사단의 기사단장 |
| 셀레네 | 암흑 | 궁수 | 그림자 속에서 활동하는 암살자 |

**SR 캐릭터 (5종)**
| 이름 | 속성 | 클래스 | 설명 |
|------|------|--------|------|
| 로제 | 물 | 힐러 | 온화한 성격의 신관 |
| 카이 | 바람 | 전사 | 자유로운 영혼의 검객 |
| 루나 | 불 | 궁수 | 밤의 사냥꾼 |
| 누아르 | 암흑 | 마법사 | 금지된 마법의 사용자 |
| 아리아 | 빛 | 힐러 | 빛의 축복을 받은 수녀 |

**R 캐릭터 (7종)**
| 이름 | 속성 | 클래스 |
|------|------|--------|
| 핀 | 물 | 전사 |
| 미라 | 바람 | 궁수 |
| 테오 | 불 | 마법사 |
| 에바 | 빛 | 힐러 |
| 렉스 | 암흑 | 전사 |
| 아이비 | 물 | 마법사 |
| 맥스 | 바람 | 전사 |

### 4.2 스테이지 데이터 (총 10개)

**챕터 1: 어둠의 숲**
- 스테이지 1-1 ~ 1-10
- 난이도 점진적 증가
- 각 스테이지 3성 클리어 목표
- 클리어 조건:
  - 1성: 스테이지 클리어
  - 2성: 파티 손상도 25% 이하
  - 3성: 파티 손상도 10% 이하

### 4.3 아이템 데이터

**재화:**
- 골드: 주요 게임 재화
- 보석: 프리미엄 재화
- 소환권: 가챠 기반

**재료:**
- 경험치 물약: 레벨 상승
- 스킬북: 스킬 강화
- 캐릭터 조각: 진화 소재
- 장비 파편: 장비 강화

---

## 5. UI/UX 디자인

### 5.1 디자인 철학
- **목표**: 서브컬쳐/애니메이션 스타일
- **톤**: 어두운 배경 + 밝은 강조색
- **인터랙션**: 터치 친화적, 명확한 피드백

### 5.2 컬러 팔레트

```
Primary:    #6366F1 (인디고)       - 주요 버튼, 액센트
Secondary:  #EC4899 (핑크)         - 보조 강조, 캐릭터 프레임
Background: #0F172A ~ #1E293B      - 다크 테마
Accent:     #F59E0B (골드)         - 프리미엄, 보석
Text:       #F8FAFC (화이트)       - 기본 텍스트
Success:    #10B981 (초록)         - 긍정 결과
Danger:     #EF4444 (빨강)         - 부정 결과
```

### 5.3 레이아웃 규격

**해상도:**
- 타겟: 480 × 854 (9:16 비율)
- 반응형: 480px 이상 모든 기기 대응

**영역 분할:**
```
┌─────────────────────────────────┐
│ 상단 바 (64px)                    │  리소스 표시
├─────────────────────────────────┤
│                                 │
│       콘텐츠 영역                  │  가변 높이
│    (480 × 726px)                │
│                                 │
├─────────────────────────────────┤
│ 하단 네비게이션 (64px)            │  5개 탭
└─────────────────────────────────┘
```

### 5.4 주요 화면 디자인

**메인 로비 (MainMenuScene)**
- 배경: 판타지 길드 홀
- 중앙: 대표 캐릭터 스프라이트 표시
- 좌상단: 프로필 / 우상단: 설정
- 오프라인 보상 팝업 자동 표시

**소환 화면 (GachaScene)**
- 마법진 애니메이션
- 등급별 차별화 연출:
  - N/R: 화이트 이펙트
  - SR: 보라 이펙트
  - SSR: 금빛 이펙트 + 파티클
- 결과: 카드 플립 애니메이션
- 10연차: 레아 슬라이드 표시

**전투 화면 (BattleScene)**
- 배치: 좌측 아군(5명), 우측 적군(최대 3명)
- 정보:
  - 각 캐릭터 HP/최대HP 바
  - 스킬 게이지 (0-100%)
  - 턴 표시
- 조절: 자동/수동 전투, 배속 버튼

---

## 6. 기술 스택

### 6.1 프론트엔드
```javascript
// 핵심 기술
- HTML5 + CSS3 + JavaScript (ES6+)
- Phaser 3 (게임 엔진)
- GSAP (애니메이션)
- Howler.js (사운드)

// 번들링
- Vite (개발 서버, 빌드)

// 코드 품질
- ESLint (문법 검사)
- Prettier (포맷팅)
```

### 6.2 데이터 관리
```javascript
// MVP
- LocalStorage (클라이언트 저장)

// 향후 확장
- Firebase Firestore (클라우드 저장)
- Supabase (대체 백엔드)
```

### 6.3 에셋
- **캐릭터**: AI 생성 또는 프리 에셋
- **UI**: Figma 또는 직접 제작
- **이펙트**: Phaser 파티클 시스템
- **BGM/SFX**: Freesound.org, Zapsplat 등

---

## 7. MVP vs v2.0 로드맵

### 7.1 MVP (현재 구현 완료)

**포함 기능:**
- [x] 메인 로비 UI
- [x] 캐릭터 소환 (가챠)
- [x] 캐릭터 목록 및 상세 보기
- [x] 기본 전투 (자동 전투)
- [x] 스테이지 선택 (1챕터, 10 스테이지)
- [x] 레벨업 시스템
- [x] 오프라인 보상
- [x] 로컬 저장 (LocalStorage)

### 7.2 v2.0 신규 기능 (향후 개발)

**콘텐츠 확장:**
- [ ] 멀티 챕터 (챕터 2-5)
- [ ] 무한 던전 시스템
- [ ] 일일 퀘스트 (5개)
- [ ] 주간 이벤트
- [ ] 길드 시스템 (협력 던전)

**시스템 고도화:**
- [ ] 상세한 AI 전술
- [ ] 팀 조합 보너스
- [ ] 아이템 강화 시스템 개선
- [ ] 플레이어 계정 시스템
- [ ] 소셜 기능

**기술 개선:**
- [ ] 백엔드 연동 (서버 저장)
- [ ] 결제 시스템 통합
- [ ] 분석 및 로깅
- [ ] 성능 최적화 (모바일 대응)

**콘텐츠 다양화:**
- [ ] 이벤트 배너 (한정 캐릭터)
- [ ] 친구 시스템
- [ ] PvP 콘텐츠
- [ ] 던전 레이드 (멀티플레이)

---

## 8. 프로젝트 구조

```
ArcaneCollectors/
├── index.html                      # 메인 HTML
├── package.json                    # 의존성 정의
├── vite.config.js                  # Vite 설정
├── src/
│   ├── main.js                     # 진입점
│   ├── config/
│   │   └── gameConfig.js           # 게임 설정, 상수
│   ├── scenes/                     # 8개 씬
│   │   ├── BootScene.js
│   │   ├── PreloadScene.js
│   │   ├── MainMenuScene.js
│   │   ├── GachaScene.js
│   │   ├── HeroListScene.js
│   │   ├── HeroDetailScene.js
│   │   ├── StageSelectScene.js
│   │   └── BattleScene.js
│   ├── components/                 # 11개 UI 컴포넌트
│   │   ├── Button.js
│   │   ├── Panel.js
│   │   ├── TopBar.js
│   │   ├── BottomNav.js
│   │   ├── HeroCard.js
│   │   ├── ProgressBar.js
│   │   ├── StarRating.js
│   │   ├── Modal.js
│   │   ├── Toast.js
│   │   ├── StatBar.js
│   │   └── index.js
│   ├── systems/                    # 6개 게임 시스템
│   │   ├── SaveManager.js
│   │   ├── GachaSystem.js
│   │   ├── BattleSystem.js
│   │   ├── ProgressionSystem.js
│   │   ├── QuestSystem.js
│   │   └── EventBus.js
│   ├── data/                       # 7개 데이터 파일
│   │   ├── characters.json
│   │   ├── skills.json
│   │   ├── stages.json
│   │   ├── enemies.json
│   │   ├── items.json
│   │   ├── quests.json
│   │   └── index.js
│   └── utils/                      # 5개 유틸리티
│       ├── constants.js
│       ├── helpers.js
│       ├── textStyles.js
│       ├── animations.js
│       └── drawUtils.js
└── dist/                           # 빌드 결과물
```

---

## 9. 실행 방법

### 9.1 개발 환경 설정
```bash
# 프로젝트 폴더 진입
cd ArcaneCollectors

# 의존성 설치
npm install

# 개발 서버 실행
npm run dev
```

### 9.2 브라우저 접속
```
http://localhost:3000
```

### 9.3 빌드 (배포)
```bash
# 프로덕션 빌드
npm run build

# 빌드 결과 확인
# dist/ 폴더의 파일 배포
```

---

## 10. 성능 목표

| 항목 | 목표 |
|------|------|
| 초기 로딩 시간 | < 3초 |
| 씬 전환 시간 | < 1초 |
| FPS | 60 fps (모바일 30 fps) |
| 메모리 사용 | < 100MB |
| 번들 크기 | < 2MB (gzip) |

---

## 11. 개발 마일스톤

### Phase 1: MVP 기초 (완료)
- 프로젝트 셋업 및 UI 프레임워크
- 기본 게임 플로우
- 가챠 및 전투 시스템

### Phase 2: MVP 완성 (진행 중)
- 전체 기능 통합 및 최적화
- 오프라인 보상 및 육성 시스템
- 버그 수정 및 폴리싱

### Phase 3: v2.0 콘텐츠 확장 (계획 중)
- 멀티 챕터 시스템
- 무한 던전 및 이벤트
- 길드 및 PvP

### Phase 4: v2.0 백엔드 연동 (계획 중)
- 서버 연동
- 결제 시스템
- 소셜 기능

---

## 12. 팀 구성 및 역할

| 역할 | 담당 |
|------|------|
| **리드 개발자** | 게임 아키텍처, 핵심 시스템 |
| **프론트엔드 개발자** | UI/UX 구현, 애니메이션 |
| **게임 디자이너** | 게임 밸런싱, 콘텐츠 설계 |
| **아트 디렉터** | 에셋 수집/제작, 스타일 가이드 |

---

## 13. 참고 자료

### 레퍼런스
- [Game UI Database](https://www.gameuidatabase.com/)
- [Phaser 3 공식 문서](https://phaser.io/)
- [방치형 게임 가이드](https://gamedesignskills.com/game-design/gacha-game/)

### 커뮤니티
- [itch.io HTML5 Games](https://itch.io/games/html5)
- [Phaser Community](https://www.phaser.io/community)

---

**문서 버전**: v2.0
**최종 업데이트**: 2025-01-26
**상태**: 향후 개발 계획 수립 완료
